API: supportboxInformation

نوع: GET یا فانکشن سرویس داخلی (Server-side)

توضیح:
این فانکشن اطلاعات آماری درباره‌ی تیکت‌های پشتیبانی (Support Tickets) را برمی‌گرداند.

توضیح فیلدها:

فیلد نوع توضیح
totalsupport Number تعداد کل تیکت‌های ثبت شده
activesupport Number تعداد تیکت‌هایی که وضعیتشان Approved است
waitingsupport Number تعداد تیکت‌هایی که وضعیتشان Waiting است
approvedsupport Number همانند activesupport (می‌تواند نام فیلد اصلاح شود)
Immediatesupport Number تعداد تیکت‌هایی که اولویتشان URGENT است

/////////////////////////////////////////////////////////////////
API: DeleteSupport

نوع: فانکشن سرویس داخلی (Server-side)

توضیح:
این فانکشن وضعیت یک تیکت را به "Blocked" تغییر می‌دهد.

پارامترها:
| فیلد | نوع | توضیح |
| ---- | ------ | ----------------------------- |
| id | Number | شناسه تیکتی که باید مسدود شود |

| فیلد    | نوع     | توضیح                                                 |
| ------- | ------- | ----------------------------------------------------- |
| success | Boolean | اگر موفق باشد مقدار true برمی‌گردد                    |
| ticket  | Object  | تیکت بروزرسانی شده                                    |
| error   | String  | در صورت وجود خطا پیام خطا                             |
| status  | Number  | کد وضعیت خطا (404 برای نبود تیکت، 500 برای خطای سرور) |

///////////////////////////////////

API: ApprovedSupport

نوع: فانکشن سرویس داخلی (Server-side)

توضیح:
این فانکشن وضعیت یک تیکت را به "Approved" تغییر می‌دهد.

پارامترها:

| فیلد | نوع    | توضیح                         |
| ---- | ------ | ----------------------------- |
| id   | Number | شناسه تیکتی که باید تایید شود |

| فیلد    | نوع     | توضیح                                                 |
| ------- | ------- | ----------------------------------------------------- |
| success | Boolean | اگر موفق باشد مقدار true برمی‌گردد                    |
| ticket  | Object  | تیکت بروزرسانی شده                                    |
| error   | String  | در صورت وجود خطا پیام خطا                             |
| status  | Number  | کد وضعیت خطا (404 برای نبود تیکت، 500 برای خطای سرور) |

/////////////////////////////////////////

API: GetPageSuppurtById

نوع: فانکشن سرویس داخلی (Server-side)

توضیح:
این فانکشن جزئیات یک تیکت خاص را بر اساس id برمی‌گرداند، شامل اطلاعات کاربر سازنده تیکت و تمام پیام‌های مرتبط با آن تیکت به ترتیب زمانی.

پارامترها:

| فیلد | نوع    | توضیح                             |
| ---- | ------ | --------------------------------- |
| id   | Number | شناسه تیکتی که جزئیات آن نیاز است |

| فیلد            | نوع           | توضیح                                                 |
| --------------- | ------------- | ----------------------------------------------------- |
| success         | Boolean       | اگر موفق باشد مقدار true برمی‌گردد                    |
| ticket          | Object        | شی تیکت شامل اطلاعات زیر:                             |
| ├─ id           | Number        | شناسه تیکت                                            |
| ├─ title        | String        | عنوان تیکت                                            |
| ├─ description  | String        | توضیحات تیکت                                          |
| ├─ status       | String        | وضعیت تیکت (Waiting, Approved, Blocked)               |
| ├─ priority     | String        | اولویت تیکت (NORMAL, URGENT)                          |
| ├─ createdAt    | DateTime      | زمان ایجاد تیکت                                       |
| ├─ updatedAt    | DateTime      | زمان آخرین بروزرسانی                                  |
| ├─ user         | Object        | اطلاعات کاربر سازنده تیکت                             |
| └─ messages     | Array<Object> | آرایه پیام‌های تیکت شامل:                             |
|    ├─ id        | Number        | شناسه پیام                                            |
|    ├─ content   | String        | متن پیام                                              |
|    ├─ user      | Object        | اطلاعات کاربر ارسال‌کننده پیام                        |
|    └─ createdAt | DateTime      | زمان ایجاد پیام                                       |
| error           | String        | در صورت وجود خطا پیام خطا                             |
| status          | Number        | کد وضعیت خطا (404 برای نبود تیکت، 500 برای خطای سرور) |

////////////////////////////////////////////////

API: GetSupportFilterQuery

نوع: فانکشن سرویس داخلی (Server-side)

توضیح:
این فانکشن لیست تیکت‌های پشتیبانی را بر اساس فیلترهای دلخواه جستجو و مرتب‌سازی می‌کند.

پارامترها:
| فیلد | نوع | توضیح |
| -------- | ---------------- | ----------------------------------------------------------- |
| serch | String (اختیاری) | متن جستجو برای عنوان یا توضیحات تیکت |
| status | String (اختیاری) | فیلتر بر اساس وضعیت تیکت (`Blocked`, `Waiting`, `Approved`) |
| priority | String (اختیاری) | فیلتر بر اساس اولویت تیکت (`NORMAL`, `URGENT`) |
| sort | String (اختیاری) | ترتیب مرتب‌سازی بر اساس زمان ایجاد (`asc` یا `desc`) |

خروجی:

موفقیت‌آمیز: آرایه‌ای از تیکت‌ها

| فیلد شی تیکت | نوع      | توضیح                     |
| ------------ | -------- | ------------------------- |
| id           | Number   | شناسه تیکت                |
| title        | String   | عنوان تیکت                |
| description  | String   | توضیحات تیکت              |
| status       | String   | وضعیت تیکت                |
| priority     | String   | اولویت تیکت               |
| userId       | Number   | شناسه کاربر سازنده تیکت   |
| createdAt    | DateTime | زمان ایجاد تیکت           |
| updatedAt    | DateTime | زمان آخرین بروزرسانی تیکت |

////////////////////////////////////////////////////////////
API: SendMessage

نوع: فانکشن سرویس داخلی (Server-side)

توضیح:
این فانکشن یک پیام جدید برای تیکت پشتیبانی مشخص ایجاد می‌کند. پیام می‌تواند از طرف کاربر یا ادمین باشد و به جدول Message اضافه می‌شود.

پارامترها:
| فیلد | نوع | توضیح |
| -------- | ------ | ----------------------------------------------------- |
| ticketId | Number | شناسه تیکت که پیام مربوط به آن است |
| userId | Number | شناسه کاربری که پیام را ارسال می‌کند (کاربر یا ادمین) |
| content | String | متن پیام |
خروجی:

موفقیت‌آمیز:
| فیلد | نوع | توضیح |
| ------- | ------- | ---------------------------------------------------------------------------------- |
| success | Boolean | نشان‌دهنده موفقیت عملیات |
| message | Object | شی پیام ایجاد شده شامل فیلدهای: `id`, `ticketId`, `userId`, `content`, `createdAt` |
